<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
        <title>Ejercicio 15 - Información sobre eventos</title>
        <style type="text/css">
            body {
                font-family: arial, helvetica;
            }
            #info {
                width: 160px;
                border: thin solid silver;
                padding: 0.5em;
                position: fixed;
            }
            #info h1 {
                margin: 0;
            }
        </style>
        <script type="text/javascript">
          
        function inf(eEvento){
            var evento = eEvento || window.event;
            switch(evento.type){

                case 'mousemove':
                document.getElementById('info').style.backgroundColor = '#FFFFFF';
                var ie = navigator.userAgent.toLowerCase().indexOf('msie')!=-1;
                var coordenadaX1, coordenadaY1, coordenadaX2, coordenadaY2;
                if (ie) {
                    if (document.documentElement && document.documentElement.scrollTop) {
                        coordenadaX2 = evento.clientX + document.documentElement.scrollLeft;
                        coordenadaY2 = evento.clientY + document.documentElement.scrollTop;
                    }else{
                        coordenadaX2 = evento.clientX + document.body.scrollLeft;
                        coordenadaY2 = evento.clientY + document.body.scrollTop;
                    }
                }else{
                    coordenadaX2 = evento.pageX;
                    coordenadaY2 = evento.pageY;
                }
                coordenadaX1 = evento.clientX;
                coordenadaY1 = evento.clientY;
                muestraInformacion(['Ratón', 'Navegador [' + coordenadaX1 + ', '+ coordenadaY1+ '] ', 'Pagina [' + coordenadaX2 + ', '+coordenadaY2 + ']']);
                break;

                case 'keypress':
                document.getElementById('info').style.backgroundColor = '#CCE6FF';
                var caracter = evento.charCode || evento.keyCode;
                var letra = String.fromCharCode(caracter);
                var codigo = letra.charCodeAt(0);
                muestraInformacion(['Teclado', 'Caracter [' + letra + ']', 'Codigo [' + codigo + ']']);
                break;

                case 'click':
                document.getElementById('info').style.backgroundColor = '#FFFFCC';
                break;
            }

        } 



            function muestraInformacion(mensaje) {
            	document.getElementById("info").innerHTML = '<h1>'+mensaje[0]+'</h1>';
            	for(var i=1; i<mensaje.length; i++) {
            		document.getElementById("info").innerHTML += '<p>'+mensaje[i]+'</p>';
            	}
            }

            document.onmousemove = inf;
            document.onkeypress = inf;
            document.onclick = inf;

        </script>
    </head>
    <body>
        <div id="info"></div>
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br /> 
    </body>
</html>
